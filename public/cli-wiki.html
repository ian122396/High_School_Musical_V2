<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CLI ä½¿ç”¨æ‰‹å†Œ - å­¦æ ¡æ±‡æ¼”ç¥¨åŠ¡ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="/css/styles.css" />
    <style>
      body {
        max-width: 900px;
        margin: 0 auto;
        padding: 1.5rem;
        line-height: 1.6;
      }
      code {
        background: #f3f6fb;
        padding: 0.1rem 0.35rem;
        border-radius: 4px;
      }
      pre {
        background: #0f172a;
        color: #e6edf3;
        padding: 1rem;
        border-radius: 8px;
        overflow-x: auto;
      }
      h1,
      h2,
      h3 {
        color: #0f172a;
      }
    </style>
  </head>
  <body>
    <h1>CLI æ¨¡å¼ä½¿ç”¨æ‰‹å†Œ</h1>
    <p>åœ¨ <code>cli.html</code> ä¸­å¯é€šè¿‡å‘½ä»¤è¡Œå®Œæˆç³»ç»Ÿæ“ä½œã€‚æŸ¥è¯¢ç±»å‘½ä»¤æ— éœ€ç™»å½•ï¼›å†™æ“ä½œè¯·å…ˆæ‰§è¡Œ <code>login</code>ã€‚</p>

    <h2>åŸºç¡€</h2>
    <ul>
      <li><code>help</code> æŸ¥çœ‹æ”¯æŒçš„å‘½ä»¤</li>
      <li><code>login &lt;username&gt; &lt;password&gt;</code> ç™»å½•ï¼ˆæ”¯æŒ admin / salesï¼‰</li>
      <li><code>logout</code> é€€å‡ºç™»å½•</li>
      <li><code>whoami</code> æŸ¥çœ‹å½“å‰ä¼šè¯</li>
    </ul>

    <h2>é¡¹ç›® / åº§ä½</h2>
    <ul>
      <li><code>projects</code> åˆ—å‡ºé¡¹ç›®</li>
      <li><code>select &lt;projectId&gt;</code> é€‰æ‹©é¡¹ç›®</li>
      <li><code>project-add &lt;name&gt; &lt;rows&gt; &lt;cols&gt;</code> åˆ›å»ºé¡¹ç›®ï¼ˆadminï¼‰</li>
      <li><code>project</code> æŸ¥çœ‹å½“å‰é¡¹ç›®æ‘˜è¦</li>
      <li><code>seats-summary</code> æŒ‰çŠ¶æ€ç»Ÿè®¡</li>
      <li><code>seat-status &lt;row&gt; &lt;col&gt; &lt;status&gt; [price]</code> ï¼ˆadminï¼‰ä¿®æ”¹åº§ä½çŠ¶æ€ï¼Œè¡Œåˆ—ä» 1 å¼€å§‹</li>
      <li><code>seat-bulk-status seats=r1c1,r1c2 status=&lt;status&gt; [price=]</code> æ‰¹é‡ä¿®æ”¹çŠ¶æ€ï¼ˆadminï¼‰</li>
      <li><code>seat-range-status start=r1c1 end=r3c5 status=&lt;status&gt; [price=]</code> çŸ©å½¢èŒƒå›´æ‰¹é‡æ”¹çŠ¶æ€ï¼ˆadminï¼‰</li>
      <li><code>ticket-range-status start=T0001 end=T0010 status=&lt;status&gt; [price=]</code> æŒ‰ç¥¨å·åŒºé—´æ”¹çŠ¶æ€ï¼ˆadminï¼‰</li>
      <li><code>seats-export &lt;csv|png&gt;</code> å¯¼å‡ºå½“å‰é¡¹ç›®åº§ä½ CSV/PNG</li>
      <li><code>seat-price-lock price=&lt;æ•°å­—&gt; status=&lt;available|locked|disabled&gt; [rows=1-5]</code> æŒ‰ä»·ä½ï¼ˆå¯é€‰è¡ŒåŒºé—´ï¼‰æ‰¹é‡é”åº§/å¼€å”®</li>
      <li><code>seat-map</code> è¾“å‡ºå­—ç¬¦åº§ä½å›¾ï¼ˆâ¬œå¯å”®/ğŸŸ¦é”å®š/ğŸŸ§å·²å”®/ğŸŸ©å·²æ£€/â¬›æœªå¯ç”¨ï¼‰</li>
      <li><code>checkin &lt;ticketCode&gt;</code> æ£€ç¥¨å½“å‰é¡¹ç›®</li>
      <li><code>checkin-stats</code> æŸ¥çœ‹æ£€ç¥¨ç»Ÿè®¡</li>
      <li><code>checkin-logs [limit] [projectId]</code> æ£€ç¥¨æ—¥å¿—ï¼ˆadminï¼‰</li>
      <li><code>checkin-clear &lt;ticketCode&gt;</code> æ¸…é™¤æ£€ç¥¨çŠ¶æ€ï¼ˆadminï¼‰</li>
      <li><code>checkin-batch codes=code1,code2</code> æ‰¹é‡æ£€ç¥¨</li>
      <li><code>checkin-range start=T0001 end=T0010 action=check|clear</code> ç¥¨å·åŒºé—´æ£€ç¥¨æˆ–æ¸…é™¤ï¼ˆadminï¼‰</li>
      <li><code>checkin-pending [list|retry|clear]</code> æŸ¥çœ‹/é‡è¯•/æ¸…ç©º CLI å¾…é‡è¯•åˆ—è¡¨</li>
    </ul>

    <h2>æ–‡åˆ›å”®å–</h2>
    <ul>
      <li><code>merch-products</code> æŸ¥çœ‹å•†å“</li>
      <li><code>merch-modes</code> æŸ¥çœ‹ç»“è´¦æ¨¡å¼</li>
      <li><code>checkout-mode-add name=&lt;n&gt; type=&lt;standard|percentage|fullcut&gt; [value=] [threshold=] [cut=] [stack=] [description=]</code> æ–°å¢ç»“è´¦æ¨¡å¼ï¼ˆadminï¼‰</li>
      <li><code>checkout-mode-toggle &lt;id&gt; &lt;on|off&gt;</code> å¯ç”¨/åœç”¨ç»“è´¦æ¨¡å¼ï¼ˆadminï¼‰</li>
      <li><code>merch-add &lt;name&gt; &lt;price&gt; &lt;stock&gt; [desc=xx] [img=dataUrl]</code> ä¸Šä¼ å•†å“ï¼ˆadminï¼‰ã€‚å›¾ç‰‡å¯ä¸ºç©ºå°†ä½¿ç”¨å ä½å›¾ã€‚</li>
      <li><code>merch-update &lt;id&gt; [name=] [price=] [stock=] [desc=] [img=] [enabled=true|false]</code> æ›´æ–°å•†å“ä¿¡æ¯ï¼ˆadminï¼‰</li>
      <li><code>merch-toggle &lt;id&gt; &lt;on|off&gt;</code> å¯ç”¨/åœç”¨å•†å“ï¼ˆadminï¼‰</li>
      <li><code>merch-bulk-toggle ids=id1,id2 &lt;on|off&gt;</code> æ‰¹é‡å¯ç”¨/åœç”¨å•†å“ï¼ˆadminï¼‰</li>
      <li><code>merch-bulk-price ids=id1,id2 price=&lt;value&gt;</code> æ‰¹é‡è®¾ç½®ä»·æ ¼ï¼ˆadminï¼‰</li>
      <li><code>merch-bulk-stock ids=id1,id2 stock=&lt;value&gt;</code> æ‰¹é‡è®¾ç½®åº“å­˜ï¼ˆadminï¼‰</li>
      <li><code>merch-order items=prod1:2,prod2:1 [mode=&lt;modeId&gt;] [note=å¤‡æ³¨]</code> æ–°å¢è®¢å•ï¼ˆsales/adminï¼‰</li>
      <li><code>merch-orders</code> æŸ¥çœ‹è®¢å•ï¼ˆadminï¼‰</li>
      <li><code>merch-order-update &lt;id&gt; items=prod:qty,... [mode=] [note=]</code> æ›´æ–°è®¢å•ï¼ˆadminï¼‰</li>
      <li><code>merch-order-del &lt;id&gt;</code> åˆ é™¤è®¢å•ï¼ˆadminï¼‰</li>
      <li><code>audit-logs [limit=] [action=]</code> æŸ¥çœ‹å®¡è®¡æ—¥å¿—ï¼ˆadminï¼‰</li>
      <li><code>audit-export [limit=] [action=]</code> å¯¼å‡ºå®¡è®¡æ—¥å¿—ï¼ˆJSONï¼Œadminï¼‰</li>
    </ul>

    <h2>è´¦æˆ·ï¼ˆadminï¼‰</h2>
    <ul>
      <li><code>accounts</code> åˆ—å‡ºè´¦æˆ·</li>
      <li><code>account-add &lt;username&gt; &lt;password&gt; &lt;role&gt;</code> åˆ›å»ºè´¦æˆ·</li>
      <li><code>account-role &lt;username&gt; &lt;role&gt;</code> ä¿®æ”¹è§’è‰²</li>
      <li><code>account-pass &lt;username&gt; &lt;newPassword&gt;</code> é‡ç½®å¯†ç </li>
      <li><code>account-del &lt;username&gt;</code> åˆ é™¤è´¦å·</li>
    </ul>

    <h2>æ ¼å¼è¯´æ˜</h2>
    <ul>
      <li>è¡Œåˆ—å·ä» 1 å¼€å§‹ï¼ˆCLI å†…éƒ¨ä¼šè‡ªåŠ¨è½¬æ¢ï¼‰ã€‚</li>
      <li>å­—ç¬¦ä¸²å‚æ•°å¯ç”¨å¼•å·åŒ…è£¹ï¼Œä¾‹å¦‚ <code>note="çº¿ä¸‹å·²æ”¶æ¬¾"</code>ã€‚</li>
      <li>è‹¥å‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼Œä¼šè¿”å›æ¥å£é”™è¯¯ä¿¡æ¯ã€‚</li>
    </ul>
  </body>
</html>
